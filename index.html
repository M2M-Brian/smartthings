<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Smartthings by pstuart</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Smartthings</h1>
        <p>My spot to hack smartthings smartapps and smartdevices</p>

        <p class="view"><a href="https://github.com/pstuart/smartthings">View the Project on GitHub <small>pstuart/smartthings</small></a></p>


        <ul>
          <li><a href="https://github.com/pstuart/smartthings/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/pstuart/smartthings/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/pstuart/smartthings">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="smartthings" class="anchor" href="#smartthings"><span class="octicon octicon-link"></span></a>smartthings</h1>

<p>Place to hold my files and revisions on smartthings apps and devices</p>

<p>How to set up a custom device</p>

<p>You need IDE access. <a href="https://graph.api.smartthings.com/">https://graph.api.smartthings.com/</a></p>

<p>go into my device types <a href="https://graph.api.smartthings.com/ide/devices">https://graph.api.smartthings.com/ide/devices</a></p>

<p>click + New SmartDevice</p>

<p>fill out just name, namespace and author and click create</p>

<p>copy and paste my code from the github <a href="https://github.com/pstuart/smartthings/blob/master/generic_camera.groovy">https://github.com/pstuart/smartthings/blob/master/generic_camera.groovy</a></p>

<p>Click the save button</p>

<p>Click the publish button, for me</p>

<p>Go to My Devices</p>

<p>click + Add New Devices</p>

<p>Give it the following:
Name = anything you want
device Network Id = unique id (should be the hex IP and hex port of the device but my code will auto insert that when you set the ip and take a photo)
Type = Generic Camera Device
Version = Published
Location = your location
hub = your hub
group = what folder do you want the "thing" in, none is the default.</p>

<p>then click create</p>

<p>you should then get a page that shows you the device info</p>

<p>look for a preferences section with a (edit) link.</p>

<p>Click the edit link, add the properties for the camera: (these are one of my camera's settings, replace with your values)</p>

<p>Camera IP Address: 192.168.101.249</p>

<p>Camera Port: 80</p>

<p>Camera Path to Image: /SnapshotJPEG?Resolution=640x480&amp;Quality=Clarity</p>

<p>Does Camera require User Auth?: true</p>

<p>Does Camera use a Post or Get, normally Get?: GET</p>

<p>Camera User: username</p>

<p>Camera Password: password</p>

<p>click save.</p>

<p>Go to your app and under things you should now see a new camera thing. Tap it.</p>

<p>Tap the take button, should see a picture show up if everything worked.</p>

<p>If not, go back into the IDE <a href="https://graph.api.smartthings.com/">https://graph.api.smartthings.com/</a></p>

<p>Go to the Logs section <a href="https://graph.api.smartthings.com/ide/logs">https://graph.api.smartthings.com/ide/logs</a></p>

<p>go back to your app and device tap the take button again and paste in the console results for the camera.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/pstuart">pstuart</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>